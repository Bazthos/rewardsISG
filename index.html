  <style>
        #body {
            height : fit-content 
            font-family: "VT323", monospace;
            font-size: 16px;
            color: white;
            padding: 20px;
            user-select: none;
        }

        * {
            font-family: "VT323", monospace;
            font-size: 16px;
        }

        .calculator {
            display: flex;
            flex-direction: column;
            width: 800px;
            margin: auto;
            padding: 20px;
            background: #1A1F2E;
            border-radius: 10px;
        }

        input {
            box-sizing: border-box;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
        }

        input::placeholder {
            font-family: "VT323", monospace;
        }

        .volume-slider-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            position: relative;
            margin: 20px 0;
        }

        .slider-track {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 10px;
            background: #2E374F;
            border-radius: 5px;
         
        }

        .progress-bar {
            position: absolute;
            border-radius: 50px;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: #00A3FF;
            transition: width 0.2s ease-in-out;
        }

        #volumeSlider {
            width: 100%;
            max-width: 100%;
            position: absolute;
            top: -22px;
            left: 0;
            appearance: none;
            background: transparent;
            z-index: 2;
            opacity: 0;
        }

        .cursor {
            position: absolute;
            top: -6px;
            width: 20px;
            height: 20px;
            background: #00A3FF;
            border-radius: 50%;
            transition: left 0.2s ease-in-out;
            pointer-events: none;
            z-index: 5;
        }

        #volumeDisplay {
            margin-top: 10px;
            font-weight: bold;
        }

        .result {
            margin-top: 20px;
            font-size: 18px;
        }
        .result-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
            background: #161B2A;
            padding: 20px;
            border-radius: 10px;
            position: relative;
        }

        .taxpool {
            background: #00A3FF;
            padding: 20px;
            border-radius: 10px;
            width: 50%;
            text-align: left;
        }

        .taxpool h3 {
            font-size: 18px;
            margin: 0;
        }

        .taxpool .value {
            font-size: 22px;
            font-weight: bold;
        }

        .arrow {
            position: absolute;
            top: 50%;
            left: 55%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            color: white;
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            0% { transform: translate(-50%, -50%) translateY(0); }
            100% { transform: translate(-50%, -50%) translateY(-10px); }
        }

        .rewards {
            text-align: right;
            width: 50%;
        }

        .rewards p {
            font-size: 18px;
            margin: 5px 0;
        }

        .highlight {
            font-size: 20px;
            font-weight: bold;
            color: #00A3FF;
        }

         /* Responsive Mobile */
         @media screen and (max-width: 600px) {
            .result-container {
                flex-direction: column;
                align-items: center;
                text-align: center;
                box-sizing: border-box;
            }

            input {
        text-align: center; /* Centre la valeur entrée */
    }

    input::placeholder {
        text-align: center; /* Centre le placeholder */
    }

            .taxpool, .rewards {
                box-sizing: border-box;
                width: 100%;
                text-align: center;
            }

            .arrow {
                position: static;
                rotate: 90deg;
                margin: 10px 0;
                animation: none; 
                transform: translate(0);
            }
        }
    </style>
<div id="body">
    <div class="calculator">
        <h2>$ISG Rewards Calculator</h2>

        <label>24h Trading Volume (USD)</label>
        <div class="volume-slider-container">
            <div class="slider-track">
                <div class="progress-bar"></div>
                <div id="volumeCursor" class="cursor"></div>
                <input type="range" id="volumeSlider" min="0" max="10000000" step="100" value="100">
            </div>
            <span id="volumeDisplay">0 USD</span>
            <input type="number" id="volumeInput" style="display: none;" min="100" max="10000000" step="100" value="100">
        </div>

        <label>Your $ISG Holdings</label>
        <input type="number" id="isgHoldings" placeholder="Enter your $ISG amount">

        <div class="result-container">
            <!-- Bloc TAXPOOL avec barre de remplissage -->
            <div class="taxpool">
                <div class="progress-fill" id="progressFill"></div>
                <h3>Generated Tax Pool</h3>
                <p class="pool-value"><span id="poolTax">0</span> USD</p>
                <h3>Distributed Rewards</h3>
                <p class="pool-value"><span id="rewardPool">0</span> USD</p>
            </div>

            <div class="arrow">➡️</div>

            <!-- Bloc des récompenses -->
            <div class="rewards">
                <p>Your Daily Earnings:</p>
                <p class="highlight"><span id="dailyReward">0</span> USD (<span id="dailySui">0</span> SUI)</p>
                <p>Monthly Projection:</p>
                <p class="highlight"><span id="monthlyReward">0</span> USD (<span id="monthlySui">0</span> SUI)</p>
            </div>
        </div>
    </div>

    <script>
        const volumeSlider = document.getElementById("volumeSlider");
        const volumeInput = document.getElementById("volumeInput");
        const volumeDisplay = document.getElementById("volumeDisplay");
        const volumeCursor = document.getElementById("volumeCursor");
        const progressBar = document.querySelector(".progress-bar");
        const isgHold = document.getElementById("isgHoldings");

        isgHold.addEventListener("input", () => calculateRewards());

        // Permet de quitter l'input quand on appuie sur "Entrée"
        isgHold.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault(); // Empêche le saut de ligne
                this.blur(); // Quitte l'input
            }
        });


        function updateVolume(value) {
            volumeDisplay.innerText = formatNumber(value) + " USD";
            volumeInput.value = value;
            volumeSlider.value = value;
            updateCursorPosition(value);
            calculateRewards();
        }

        function updateCursorPosition(value) {
            const min = parseInt(volumeSlider.min);
            const max = parseInt(volumeSlider.max);
            const percent = ((value - min) / (max - min)) * 100;
            volumeCursor.style.left = `calc(${percent}% - 10px)`;
            progressBar.style.width = `${percent}%`;
        }

        volumeSlider.addEventListener("input", (e) => updateVolume(e.target.value));
        volumeInput.addEventListener("input", (e) => {
            let value = parseFloat(e.target.value) || 0;
            if (value < 0) value = 0;
            if (value > 10000000) value = 10000000;
            updateVolume(value);
        });

        function formatNumber(value) {
            if (value >= 1000000) {
                return (value / 1000000).toFixed(2).toLocaleString("fr-FR") + " M";
            } else if (value >= 1000) {
                return value.toLocaleString("fr-FR");
            } else {
                return value.toFixed(2).replace(".", ","); // Afficher avec virgule si inférieur à 1000
            }
        }

        function calculateRewards() {
            let volume = parseFloat(volumeSlider.value) || 0;
            let isgHoldings = parseFloat(isgHold.value) || 0;
            let totalISGSupply = 1000000000; 

            let poolTax = volume * 0.05;
            let rewardPool = poolTax * 0.95;

            let userShare = isgHoldings / totalISGSupply;
            let dailyReward = rewardPool * userShare;
            let dailySui = dailyReward / 2.80;
            let monthlyReward = dailyReward * 30;
            let monthlySui = monthlyReward / 2.80;

            document.getElementById("poolTax").innerText = formatNumber(poolTax);
            document.getElementById("rewardPool").innerText = formatNumber(rewardPool);
            document.getElementById("dailyReward").innerText = formatNumber(dailyReward);
            document.getElementById("dailySui").innerText = formatNumber(dailySui) ;
            document.getElementById("monthlyReward").innerText = formatNumber(monthlyReward);
            document.getElementById("monthlySui").innerText = formatNumber(monthlySui);

            // Mise à jour de la barre de remplissage
            let fillPercentage = (rewardPool / poolTax) * 100;
            distributedFill.style.width = `${fillPercentage}%`;
        }

    </script>
</div>
